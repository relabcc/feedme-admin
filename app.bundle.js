webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(327)},327:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t(328),t(332),t(334);var l=t(336),a=i(l),n=t(553),d=i(n);(0,d.default)(function(e){window.location.hash&&"#/"!==window.location.hash||(window.location.hash="/dashboard"),(0,a.default)(e.map(function(e){return e.name}))})},334:function(e,exports,t){var i=t(335);"string"==typeof i&&(i=[[e.id,i,""]]);t(331)(i,{});i.locals&&(e.exports=i.locals)},335:function(e,exports,t){exports=e.exports=t(330)(),exports.push([e.id,'.custom-input{margin-bottom:1em}.embed-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%}.embed-container embed,.embed-container iframe,.embed-container object{position:absolute;top:0;left:0;width:100%;height:100%}.uib-timepicker input{padding-right:1em!important}.photo-edit,.photo-view{position:relative;width:100%;height:0;margin-bottom:1em;padding-bottom:68%;overflow:hidden;display:block}.photo-edit img,.photo-view img{max-width:100%}img.img-preview{max-width:100%;background:url(/bg-blank.png)}.img-preview-area{margin-top:15px}.photo-name{margin:.5em 0 2em}.photo-edit:hover .overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,0,0,.3)}.photo-edit:hover .overlay:after{content:"[x]";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2em;color:#fff}#row-photos>.ng-admin-field-photos>ma-embedded-list-field>.row>.col-sm-12>.form-group{display:none}.form-horizontal .duplicate_button_container{position:absolute;right:-2em;z-index:2}@media (max-width:992px){.form-horizontal .duplicate_button_container{position:relative;right:0;display:block;text-align:right}}.angular-google-map-container{height:300px}#show-view .label-default{line-height:2}',""])},336:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=n.default.module("app",["ng-admin","youtube-embed","uiGmapgoogle-maps"]).config(["NgAdminConfigurationProvider",function(t){var i=t.application("Feedme Admin").baseApiUrl(r.API_ROOT),l={};(0,d.forEach)(o.entities,function(a,n){var d=a(t,e);l[n]=d,i.addEntity(d)});var a=t.menu();e.some(function(e){return"admin"===e||"editor"===e})&&a.addChild(t.menu().template('\n          <a href="#/search">\n            <span class="glyphicon glyphicon-search"></span>\n            搜尋餐廳\n          </a>'));var n=function i(a,n){var r=void 0;if((0,d.isObject)(a)){if((0,d.intersection)(a.role,e).length){var s=a.entities;(0,d.isArray)(s)?(r=t.menu(),(0,d.isArray)(s[0])||r.title(s[0]),s.forEach(function(e){i(e,r)})):r=t.menu(l[s]).title(o.entityNames[s]),n.addChild(r)}}else(0,d.isArray)(a)?(r=t.menu(),(0,d.isArray)(a[0])||r.title(a[0]),a.forEach(function(e){i(e,r)})):r=t.menu(l[a]).title(o.entityNames[a]),n.addChild(r)};o.menu.forEach(function(e){n(e,a)}),a.addChild(t.menu().template('\n        <a href="/logout.html">\n          <span class="glyphicon glyphicon-log-out"></span>\n          Logout\n        </a>')),i.menu(a),i.dashboard((0,m.default)(t)),t.configure(i)}]).config(["RestangularProvider",function(e){e.setErrorInterceptor(function(e){return 401!==e.status||((0,s.redirectToLogin)(),!1)}),e.addResponseInterceptor(v.default.response),e.addFullRequestInterceptor(v.default.request),e.setDefaultHeaders({Authorization:"Bearer "+window.localStorage.getItem("feedme_admin_token")})}]).config(["$stateProvider",function(e){e.state("restaurant-search",{parent:"ng-admin",url:"/search",controller:g.searchController,controllerAs:"controller",template:g.searchControllerTemplate})}]);(0,d.forEach)(f.default,function(e,i){t.directive(i,e)}),t.config(["$numeraljsConfigProvider",function(e){var t={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十億",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥"}};e.setLanguage("jp",t),e.setCurrentLanguage("jp")}]),n.default.element(document).ready(function(){n.default.bootstrap(document.getElementById("view"),["app"])})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var a=t(337),n=i(a);t(339),t(545),t(547),t(551);var d=t(408),r=t(552),s=t(553),o=t(555),u=t(723),f=i(u),c=t(917),m=i(c),p=t(918),v=i(p),g=t(924)},390:function(e,exports){},552:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=exports.API_ROOT="http://api.feedme.relab.cc/";exports.WEEK_DAYS=[{value:0,label:"星期天"},{value:1,label:"星期一"},{value:2,label:"星期二"},{value:3,label:"星期三"},{value:4,label:"星期四"},{value:5,label:"星期五"},{value:6,label:"星期六"}];exports.default=i},553:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateToken=exports.redirectToLogin=void 0,exports.default=function(e){var t=l()||window.localStorage.getItem("feedme_admin_token");t?d(t,e):a()},t(554);var i=t(552),l=function(){var e=location.search.substr(1),t=void 0;return e.split("&").forEach(function(e){var i=e.split("=");return"token"!==i[0]||(t=decodeURIComponent(i[1]),!1)}),t},a=exports.redirectToLogin=function(){window.localStorage.removeItem("feedme_admin_token"),window.location.href="./login.html"},n=function(e,t){document.getElementById("view").style.display="none",fetch(i.API_ROOT+"auth/refresh",{headers:{"x-refresh-token":e}}).then(function(e){return e.json()}).then(function(e){e.token?(window.localStorage.setItem("feedme_admin_token",e.token),window.roles=e.roles,t&&t(e.roles),window.location.reload()):a()})},d=exports.validateToken=function(e,t){fetch(i.API_ROOT+"auth/validate_token",{headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(i){"success"===i.status?(window.roles=i.roles,t&&t(i.roles)):500===i.status_code?n(e,t):a()}).catch(function(e){console.log("parsing failed",e)})}},555:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.menu=exports.entityNames=exports.entities=void 0;var l=t(556),a=i(l),n=t(687),d=i(n),r=t(689),s=i(r),o=t(690),u=i(o),f=t(691),c=i(f),m=t(692),p=i(m),v=t(693),g=i(v),y=t(694),h=i(y),b=t(695),_=i(b),w=t(696),j=i(w),F=t(697),k=i(F),E=t(698),q=i(E),V=t(699),M=i(V),P=t(700),x=i(P),O=t(701),N=i(O),I=t(702),L=i(I),T=t(703),D=i(T),C=t(704),R=i(C),z=t(705),A=i(z),S=t(706),U=i(S),B=t(707),H=i(B),Y=t(708),W=i(Y),K=t(709),J=i(K),X=t(710),G=i(X),Q=t(711),Z=i(Q),ee=t(712),te=i(ee),ie=t(713),le=i(ie),ae=t(714),ne=i(ae),de=t(715),re=i(de),se=t(716),oe=i(se),ue=t(717),fe=i(ue),ce=t(718),me=i(ce),pe=t(719),ve=i(pe),ge=t(720),ye=i(ge),he=t(721),be=i(he),_e=t(722),we=i(_e),je={restaurants:a.default,regions:d.default,districts:s.default,categories:u.default,subcategories:c.default,atmospheres:j.default,demands:k.default,users:g.default,roles:h.default,permissions:_.default,hours:q.default,restaurantPhotos:p.default,populations:M.default,choices:x.default,themes:N.default,recommends:L.default,travels:D.default,cities:U.default,pages:H.default,abouts:W.default,aboutContents:J.default,travelPhotos:R.default,choicePhotos:A.default,mores:G.default,comments:Z.default,tastes:te.default,notify:le.default,footer:ne.default,introSlides:oe.default,locales:re.default,watermarks:fe.default,sidebars:me.default,settings:ve.default,agents:ye.default,articles:be.default,tutorials:we.default},Fe={restaurants:"餐廳",cities:"大區",regions:"分區",districts:"小地區",categories:"食物主分類",subcategories:"食物次分類",atmospheres:"餐廳氣氛",demands:"用餐需求",populations:"用餐人數",users:"使用者管理",roles:"角色管理",permissions:"權限管理",restaurantPhotos:"餐廳照片",hours:"營業時間",choices:"精選餐廳",themes:"主題推薦",recommends:"精選主題",travels:"行程推薦",pages:"頁面標題",abouts:"關於",aboutContents:"關於細項",mores:"更多按鈕",tastes:"口味選項",notify:"郵件通知",footer:"Footer",introSlides:"首頁輪播",locales:"語系管理",watermarks:"浮水印",sidebars:"側邊欄",settings:"標題設定",articles:"專題文章",tutorials:"初始教學"},ke=[{role:["admin","editor"],entities:["restaurants","choices","themes","recommends","articles"]},{role:["admin"],entities:["cities","regions","districts","travels"]},{role:["admin"],entities:["categories","subcategories"]},{role:["admin"],entities:["demands","atmospheres","populations"]},{role:["admin"],entities:["pages","introSlides","mores","abouts","footer","sidebars","tutorials","locales","watermarks","settings"]},{role:["admin"],entities:["users","tastes","roles","permissions","notify"]}];exports.entities=je,exports.entityNames=Fe,exports.menu=ke,exports.default=je},556:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){var i=t.includes("admin"),l=e.entity("restaurants"),a=e.entity("locales"),r=(0,u.default)(e,a);return l.listView().fields([e.field("id").detailLinkRoute("show"),e.field("name").isDetailLink(!0).detailLinkRoute("show"),e.field("address"),e.field("region.name"),e.field("district.name"),e.field("pageview","number"),e.field("active","boolean")]).actions(['<ma-create-button entry="entry" entity="entity" />','<export-excel-button entry="entry" entity="entity" />']),l.showView().fields([e.field("id"),e.field("author.id","reference").targetEntity(e.entity("agents")).targetField(e.field("name")).label("作者"),e.field("intlName","embedded_list").targetFields(r.show),e.field("active","boolean"),e.field("intlDescription","embedded_list").targetFields(r.show),e.field("intlIntro","embedded_list").targetFields(r.show),e.field("rating"),e.field("scores","embedded_list").targetFields([e.field("name"),e.field("value","number")]),e.field("themes","reference_many").targetEntity(e.entity("themes")).targetField(e.field("name")).label(d.entityNames.themes),e.field("place_id"),e.field("address"),e.field("district.id","reference").targetEntity(e.entity("districts")).targetField(e.field("name")).label(d.entityNames.districts).detailLinkRoute("show"),e.field("lunchMin","number").format("$0,0").validation({required:!0}),e.field("lunchMax","number").format("$0,0").validation({required:!0}),e.field("dinnerMin","number").format("$0,0").validation({required:!0}),e.field("dinnerMax","number").format("$0,0").validation({required:!0}),e.field("credit_card","boolean").choices([{value:!0,label:"可刷卡"},{value:!1,label:"不可刷卡"}]),e.field("subcategories","reference_many").targetEntity(e.entity("subcategories")).targetField(e.field("name")).label(d.entityNames.subcategories),e.field("atmospheres","reference_many").targetEntity(e.entity("atmospheres")).targetField(e.field("name")).label(d.entityNames.atmospheres),e.field("populations","reference_many").targetEntity(e.entity("populations")).targetField(e.field("name")).label(d.entityNames.populations),e.field("demands","reference_many").targetEntity(e.entity("demands")).targetField(e.field("name")).label(d.entityNames.demands),e.field("cover").template('<photo-viewer value="::value" />'),e.field("video").template('<youtube-field video-id="::value" />'),e.field("envPhotos","embedded_list").targetFields([e.field("path").template('<photo-viewer value="::value" />'),e.field("intlDescription","embedded_list").targetFields(r.show)]),e.field("photos","embedded_list").targetFields([e.field("path").template('<photo-viewer value="::value" />'),e.field("name"),e.field("price"),e.field("intlDescription","embedded_list").targetFields(r.show)]),e.field("hours","embedded_list").targetFields([e.field("week","choice").choices(n.WEEK_DAYS).label("星期"),e.field("start","datetime").format("HH:mm").map(c),e.field("end","datetime").format("HH:mm").map(c)]).label(d.entityNames.hours),e.field("comments","referenced_list").targetEntity(e.entity("comments")).targetReferenceField("restaurant_id").targetFields([e.field("content"),e.field("user.name").label("By")]).listActions('<ma-delete-button entry="entry" entity="entity" size="xs"/>')]).actions(["edit","list",i&&"delete"]),l.listView().exportFields([e.field("id"),e.field("name"),e.field("active","boolean"),e.field("intlDescription","embedded_list").targetFields(r.export),e.field("intlIntro","embedded_list").targetFields(r.export),e.field("rating"),e.field("scores","embedded_list").targetFields([e.field("name"),e.field("value","number")]),e.field("themes","reference_many").targetEntity(e.entity("themes")).targetField(e.field("name")).label(d.entityNames.themes),e.field("place_id"),e.field("address"),e.field("district.id","reference").targetEntity(e.entity("districts")).targetField(e.field("name")).label(d.entityNames.districts).detailLinkRoute("show"),e.field("lunchMin","number").format("$0,0").validation({required:!0}),e.field("lunchMax","number").format("$0,0").validation({required:!0}),e.field("dinnerMin","number").format("$0,0").validation({required:!0}),e.field("dinnerMax","number").format("$0,0").validation({required:!0}),e.field("credit_card","boolean").choices([{value:!0,label:"可刷卡"},{value:!1,label:"不可刷卡"}]),e.field("subcategories","reference_many").targetEntity(e.entity("subcategories")).targetField(e.field("name")).label(d.entityNames.subcategories),e.field("atmospheres","reference_many").targetEntity(e.entity("atmospheres")).targetField(e.field("name")).label(d.entityNames.atmospheres),e.field("populations","reference_many").targetEntity(e.entity("populations")).targetField(e.field("name")).label(d.entityNames.populations),e.field("demands","reference_many").targetEntity(e.entity("demands")).targetField(e.field("name")).label(d.entityNames.demands)]),l.creationView().fields([e.field("author.id","reference").targetEntity(e.entity("agents")).targetField(e.field("name").map(s.default)).label("作者").validation({required:!0}),e.field("intlName","embedded_list").targetFields(r.edit).validation({required:!0}),e.field("active","boolean").validation({required:!0}),r.placeholder,e.field("intlDescription","embedded_list").targetFields(r.edit).validation({required:!0}),e.field("intlIntro","embedded_list").targetFields(r.edit).validation({required:!0}),e.field("themes","reference_many").targetEntity(e.entity("themes")).targetField(e.field("name").map(s.default)).label(d.entityNames.themes),e.field("photo-upload").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Cover Upload").validation({required:!0}),e.field("video_url").template('<youtube-create-field field="::field" value="entry.values[field.name()]" entry="entry"></youtube-create-field>'),e.field("district_id","reference").targetEntity(e.entity("districts")).targetField(e.field("name").map(s.default)).label(d.entityNames.districts).validation({required:!0}),e.field("place_id").template('<place-id-field field="::field" value="entry.values[field.name()]" entry="entry"/>'),e.field("place_url").editable(!1).defaultValue(f),e.field("address").template('<addr-field field="::field" value="entry.values[field.name()]" entry="entry"></addr-field>').validation({required:!0}),e.field("category","reference").targetEntity(e.entity("categories")).targetField(e.field("name")).label(d.entityNames.categories).validation({required:!0}),e.field("subcategory_ids","reference_many").targetEntity(e.entity("subcategories")).targetField(e.field("name")).perPage(999).attributes({placeholder:"Select subcategory..."}).template('<subcategory-dropdown field="::field" value="entry.values[field.name()]" entry="entry" datastore="::datastore" />').label(d.entityNames.subcategories).validation({required:!0}),e.field("lunchMin","number").format("$0,0").validation({required:!0}),e.field("lunchMax","number").format("$0,0").validation({required:!0}),e.field("dinnerMin","number").format("$0,0").validation({required:!0}),e.field("dinnerMax","number").format("$0,0").validation({required:!0}),e.field("credit_card","boolean").choices([{value:!0,label:"可刷卡"},{value:!1,label:"不可刷卡"}]).defaultValue(!1).validation({required:!0}),e.field("atmosphere_ids","reference_many").targetEntity(e.entity("atmospheres")).targetField(e.field("name")).label(d.entityNames.atmospheres).validation({required:!0}),e.field("population_ids","reference_many").targetEntity(e.entity("populations")).targetField(e.field("name")).label(d.entityNames.populations).validation({required:!0}),e.field("demand_ids","reference_many").targetEntity(e.entity("demands")).targetField(e.field("name")).label(d.entityNames.demands).validation({required:!0}),e.field("rating","number").validation({required:!0,pattern:"^[1-5]$"}),e.field("scores","embedded_list").targetFields([e.field("name").validation({required:!0}),e.field("value","number").validation({required:!0,pattern:"^[1-5]$"})]),e.field("hours","embedded_list").targetFields([e.field("week","choice").choices(n.WEEK_DAYS).label("星期"),e.field("start","datetime").format("HH:mm").template('<ma-time-field field="::field" value="value" />'),e.field("end","datetime").format("HH:mm").template('<ma-time-field field="::field" value="value" />')]).template('<open-time-field field="::field" value="entry.values[field.name()]" entry="entry" datastore="::datastore" />').label(d.entityNames.hours)]),l.editionView().fields([e.field("author.id","reference").targetEntity(e.entity("agents")).targetField(e.field("name").map(s.default)).label("作者").validation({required:!0}),e.field("intlName","embedded_list").targetFields(r.edit).validation({required:!0}),e.field("active","boolean").validation({required:!0}),r.placeholder,e.field("intlDescription","embedded_list").targetFields(r.edit).validation({required:!0}),e.field("intlIntro","embedded_list").targetFields(r.edit).validation({required:!0}),e.field("themes","reference_many").targetEntity(e.entity("themes")).targetField(e.field("name").map(s.default)).label(d.entityNames.themes),e.field("place_id").template('<place-id-field field="::field" value="entry.values[field.name()]" entry="entry"/>'),e.field("place_url").editable(!1).defaultValue(f),e.field("address").template('<addr-field field="::field" value="entry.values[field.name()]" entry="entry"></addr-field>').validation({required:!0}),e.field("district.id","reference").targetEntity(e.entity("districts")).targetField(e.field("name").map(s.default)).label(d.entityNames.districts).validation({required:!0}),e.field("lunchMin","number").format("$0,0").validation({required:!0}),e.field("lunchMax","number").format("$0,0").validation({required:!0}),e.field("dinnerMin","number").format("$0,0").validation({required:!0}),e.field("dinnerMax","number").format("$0,0").validation({required:!0}),e.field("credit_card","boolean").choices([{value:!0,label:"可刷卡"},{value:!1,label:"不可刷卡"}]).validation({required:!0}),e.field("category","reference").targetEntity(e.entity("categories")).targetField(e.field("name")).label(d.entityNames.categories),e.field("subcategories","reference_many").targetEntity(e.entity("subcategories")).targetField(e.field("name")).perPage(999).template('<subcategory-dropdown field="::field" value="entry.values[field.name()]" entry="entry" datastore="::datastore" />').label(d.entityNames.subcategories).validation({required:!0}),e.field("atmospheres","reference_many").targetEntity(e.entity("atmospheres")).targetField(e.field("name")).label(d.entityNames.atmospheres).validation({required:!0}),e.field("populations","reference_many").targetEntity(e.entity("populations")).targetField(e.field("name")).label(d.entityNames.populations).validation({required:!0}),e.field("demands","reference_many").targetEntity(e.entity("demands")).targetField(e.field("name")).label(d.entityNames.demands).validation({required:!0}),e.field("rating","number").validation({required:!0,pattern:"^[1-5]$"}),e.field("scores","embedded_list").targetFields([e.field("name").validation({required:!0}),e.field("value","number").validation({required:!0,pattern:"^[1-5]$"})]),e.field("cover-upload").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Cover Upload").validation({required:!0}),e.field("video").template('<youtube-edit-field field="::field" value="entry.values[field.name()]" entry="entry"></youtube-edit-field>'),e.field("envPhotos","embedded_list").targetFields([e.field("id").editable(!1),e.field("path").template('<photo-viewer value="::value" />'),e.field("intlDescription","embedded_list").targetFields(r.edit),e.field("order")]).template('<ma-custom-embed field="::field" value="entry.values[field.name()]" datastore="::datastore" />'),e.field("file2","file").label("Add New Env Photo").uploadInformation({url:"",apifilename:"path",method:"POST",multiple:!0,headers:{Authorization:"Bearer "+window.localStorage.getItem("feedme_admin_token")}}).template('<photo-edit-field linked="envPhotos" url="restaurants/{id}/env_photos" field="::field" value="entry.values[field.name()]" entry="entry" datastore="::datastore"></photo-edit-field>'),e.field("photos","embedded_list").targetFields([e.field("id").editable(!1),e.field("path").template('<photo-viewer value="::value" />'),e.field("name"),e.field("price","number"),e.field("intlDescription","embedded_list").targetFields(r.edit),e.field("order")]).template('<ma-custom-embed field="::field" value="entry.values[field.name()]" datastore="::datastore" />'),e.field("file","file").label("Add New Photo").uploadInformation({url:"",apifilename:"path",method:"POST",multiple:!0,headers:{Authorization:"Bearer "+window.localStorage.getItem("feedme_admin_token")}}).template('<photo-edit-field linked="photos" url="restaurants/{id}/restaurant_photos" field="::field" value="entry.values[field.name()]" entry="entry" datastore="::datastore"></photo-edit-field>'),e.field("hours","embedded_list").targetFields([e.field("id").editable(!1),e.field("week","choice").choices(n.WEEK_DAYS).label("星期"),e.field("start","datetime").template('<ma-time-field field="::field" value="value" />'),e.field("end","datetime").template('<ma-time-field field="::field" value="value" />')]).template('<open-time-field field="::field" value="entry.values[field.name()]" entry="entry" datastore="::datastore" />').label(d.entityNames.hours)]).actions(["list",i&&"delete"]),l.deletionView(),l};var l=t(557),a=i(l),n=t(552),d=t(555),r=t(685),s=i(r),o=t(686),u=i(o),f="https://developers.google.com/places/place-id",c=function(e){var t=(0,a.default)(e).tz("Asia/Tokyo").format("YYYY-MM-DD HH:mm:ss");return new Date(t)}},560:function(e,exports,t){function i(e){return t(l(e))}function l(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./af":561,"./af.js":561,"./ar":562,"./ar-dz":563,"./ar-dz.js":563,"./ar-kw":564,"./ar-kw.js":564,"./ar-ly":565,"./ar-ly.js":565,"./ar-ma":566,"./ar-ma.js":566,"./ar-sa":567,"./ar-sa.js":567,"./ar-tn":568,"./ar-tn.js":568,"./ar.js":562,"./az":569,"./az.js":569,"./be":570,"./be.js":570,"./bg":571,"./bg.js":571,"./bm":572,"./bm.js":572,"./bn":573,"./bn.js":573,"./bo":574,"./bo.js":574,"./br":575,"./br.js":575,"./bs":576,"./bs.js":576,"./ca":577,"./ca.js":577,"./cs":578,"./cs.js":578,"./cv":579,"./cv.js":579,"./cy":580,"./cy.js":580,"./da":581,"./da.js":581,"./de":582,"./de-at":583,"./de-at.js":583,"./de-ch":584,"./de-ch.js":584,"./de.js":582,"./dv":585,"./dv.js":585,"./el":586,"./el.js":586,"./en-au":587,"./en-au.js":587,"./en-ca":588,"./en-ca.js":588,"./en-gb":589,"./en-gb.js":589,"./en-ie":590,"./en-ie.js":590,"./en-il":591,"./en-il.js":591,"./en-nz":592,"./en-nz.js":592,"./eo":593,"./eo.js":593,"./es":594,"./es-do":595,"./es-do.js":595,"./es-us":596,"./es-us.js":596,"./es.js":594,"./et":597,"./et.js":597,"./eu":598,"./eu.js":598,"./fa":599,"./fa.js":599,"./fi":600,"./fi.js":600,"./fo":601,"./fo.js":601,"./fr":602,"./fr-ca":603,"./fr-ca.js":603,"./fr-ch":604,"./fr-ch.js":604,"./fr.js":602,"./fy":605,"./fy.js":605,"./gd":606,"./gd.js":606,"./gl":607,"./gl.js":607,"./gom-latn":608,"./gom-latn.js":608,"./gu":609,"./gu.js":609,"./he":610,"./he.js":610,"./hi":611,"./hi.js":611,"./hr":612,"./hr.js":612,"./hu":613,"./hu.js":613,"./hy-am":614,"./hy-am.js":614,"./id":615,"./id.js":615,"./is":616,"./is.js":616,"./it":617,"./it.js":617,"./ja":618,"./ja.js":618,"./jv":619,"./jv.js":619,"./ka":620,"./ka.js":620,"./kk":621,"./kk.js":621,"./km":622,"./km.js":622,"./kn":623,"./kn.js":623,"./ko":624,"./ko.js":624,"./ky":625,"./ky.js":625,"./lb":626,"./lb.js":626,"./lo":627,"./lo.js":627,"./lt":628,"./lt.js":628,"./lv":629,"./lv.js":629,"./me":630,"./me.js":630,"./mi":631,"./mi.js":631,"./mk":632,"./mk.js":632,"./ml":633,"./ml.js":633,"./mn":634,"./mn.js":634,"./mr":635,"./mr.js":635,"./ms":636,"./ms-my":637,"./ms-my.js":637,"./ms.js":636,"./mt":638,"./mt.js":638,"./my":639,"./my.js":639,"./nb":640,"./nb.js":640,"./ne":641,"./ne.js":641,"./nl":642,"./nl-be":643,"./nl-be.js":643,"./nl.js":642,"./nn":644,"./nn.js":644,"./pa-in":645,"./pa-in.js":645,"./pl":646,"./pl.js":646,"./pt":647,"./pt-br":648,"./pt-br.js":648,"./pt.js":647,"./ro":649,"./ro.js":649,"./ru":650,"./ru.js":650,"./sd":651,"./sd.js":651,"./se":652,"./se.js":652,"./si":653,"./si.js":653,"./sk":654,"./sk.js":654,"./sl":655,"./sl.js":655,"./sq":656,"./sq.js":656,"./sr":657,"./sr-cyrl":658,"./sr-cyrl.js":658,"./sr.js":657,"./ss":659,"./ss.js":659,"./sv":660,"./sv.js":660,"./sw":661,"./sw.js":661,"./ta":662,"./ta.js":662,"./te":663,"./te.js":663,"./tet":664,"./tet.js":664,"./tg":665,"./tg.js":665,"./th":666,"./th.js":666,"./tl-ph":667,"./tl-ph.js":667,"./tlh":668,"./tlh.js":668,"./tr":669,"./tr.js":669,"./tzl":670,"./tzl.js":670,"./tzm":671,"./tzm-latn":672,"./tzm-latn.js":672,"./tzm.js":671,"./ug-cn":673,"./ug-cn.js":673,"./uk":674,"./uk.js":674,"./ur":675,"./ur.js":675,"./uz":676,"./uz-latn":677,"./uz-latn.js":677,"./uz.js":676,"./vi":678,"./vi.js":678,"./x-pseudo":679,"./x-pseudo.js":679,"./yo":680,"./yo.js":680,"./zh-cn":681,"./zh-cn.js":681,"./zh-hk":682,"./zh-hk.js":682,"./zh-tw":683,"./zh-tw.js":683};i.keys=function(){return Object.keys(a)},i.resolve=l,e.exports=i,i.id=560},685:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return t.id+": "+t.name}},686:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"|")};exports.default=function(e,i){return{show:[e.field("locale"),e.field("text")],export:[e.field("locale"),e.field("text").map(t)],edit:[e.field("locale_id","reference").targetEntity(i).targetField(e.field("code")).label("Locale"),e.field("text","text")],placeholder:e.field("_locales","reference").targetEntity(i).targetField(e.field("code")).editable(!1).label("").validation({required:!1})}}},687:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("regions"),i=e.entity("locales"),l=(0,d.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlName","embedded_list").targetFields(l.show),e.field("city.intlName","embedded_list").targetFields(l.show).label("大區")]),t.showView().fields([e.field("id"),l.placeholder,e.field("intlName","embedded_list").targetFields(l.show),e.field("districts","reference_many").targetEntity(e.entity("districts")).targetField(e.field("intlName").map(a.default)).detailLinkRoute("show")]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("city_id","reference").targetEntity(e.entity("cities")).targetField(e.field("intlName").map(a.default)).label("City").validation({required:!0})]),t.editionView().fields(t.creationView().fields()),t};var l=t(688),a=i(l),n=t(686),d=i(n)},688:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return t.id+": "+e[0].text}},689:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("districts"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlName","embedded_list").targetFields(l.show),e.field("nameJP"),e.field("region.intlName","embedded_list").targetFields(l.show)]),t.showView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show),e.field("nameJP"),e.field("type"),e.field("region.id","reference").targetEntity(e.entity("regions")).targetField(e.field("intlName").map(d.default)).detailLinkRoute("show").label("Region"),e.field("photo").template('<photo-viewer value="::value" />')]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("nameJP").validation({required:!0}),e.field("type"),e.field("region_id","reference").targetEntity(e.entity("regions")).targetField(e.field("intlName").map(d.default)).label("Region").validation({required:!0}),e.field("center").template('<location-field field="::field" value="entry.values[field.name()]" entry="entry"/>'),e.field("photo-upload").template('<base64-img field="::field" value="entry.values[field.name()]" entry="entry" />').label("Photo Upload").validation({required:!0})]),t.editionView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("nameJP").validation({required:!0}),e.field("type"),e.field("region_id","reference").targetEntity(e.entity("regions")).targetField(e.field("intlName").map(d.default)).label("Region").validation({required:!0}),e.field("center").template('<location-field field="::field" value="entry.values[field.name()]" entry="entry"/>'),e.field("photo-upload").template('<base64-img field="::field" value="entry.values[field.name()]" entry="entry" />').label("Photo Upload").validation({required:!0})]),t};var l=t(686),a=i(l),n=t(688),d=i(n)},690:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("categories"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show),e.field("order")]).actions(['<ma-create-button entry="entry" entity="entity" />','<export-excel-button entry="entry" entity="entity" />']),t.showView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show),e.field("order"),e.field("subcategories","reference_many").targetEntity(e.entity("subcategories")).targetField(e.field("name").map(d.default))]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("order","number")]),t.editionView().fields(t.creationView().fields()),t};var l=t(686),a=i(l),n=t(688),d=i(n)},691:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("subcategories"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show),e.field("category","reference").targetEntity(e.entity("categories")).perPage(999).targetField(e.field("intlName","embedded_list").targetFields(l.show))]).actions(['<ma-create-button entry="entry" entity="entity" />','<export-excel-button entry="entry" entity="entity" />']),t.showView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show),e.field("category","reference").targetEntity(e.entity("categories")).perPage(999).targetField(e.field("intlName","embedded_list").targetFields(l.show)).detailLinkRoute("show").isDetailLink(!0)]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("category_id","reference").targetEntity(e.entity("categories")).perPage(999).targetField(e.field("intlName").map(d.default)).label("Category").validation({required:!0})]),t.editionView().fields(t.creationView().fields()),t};var l=t(686),a=i(l),n=t(688),d=i(n)},692:function(e,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("restaurant_photos");return t.deletionView(),t}},693:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("users");return t.listView().fields([e.field("id"),e.field("name").isDetailLink(!0),e.field("email").isDetailLink(!0),e.field("roles","reference_many").targetEntity(e.entity("roles")).targetField(e.field("name"))]),t.showView().fields([e.field("id"),e.field("email"),e.field("name"),e.field("taste.text").label("口味"),e.field("roles","reference_many").targetEntity(e.entity("roles")).targetField(e.field("name"))]),t.creationView().fields([e.field("name").validation({required:!0}),e.field("email","email").validation({required:!0}),e.field("password","password").validation({required:!0}),e.field("password_confirm","password").validation({required:!0,validator:function(e,t){if(e!==t.password)throw new Error("Password does not match!")}}),e.field("taste_id","reference").targetEntity(e.entity("tastes")).targetField(e.field("text")).label("口味").validation({required:!0}),e.field("roles","reference_many").targetEntity(e.entity("roles")).targetField(e.field("name")).validation({required:!0})]),t.editionView().fields([e.field("roles","reference_many").targetEntity(e.entity("roles")).targetField(e.field("name")).validation({required:!0}),e.field("taste.id","reference").targetEntity(e.entity("tastes")).targetField(e.field("text")).label("口味").validation({required:!0})]),t}},694:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("roles");return t.listView().fields([e.field("id"),e.field("display_name").isDetailLink(!0),e.field("description")]),t.showView().fields([e.field("id"),e.field("name"),e.field("display_name"),e.field("description"),e.field("permissions","reference_many").targetEntity(e.entity("permissions")).targetField(e.field("name"))]),t.creationView().fields([e.field("name").validation({required:!0}),e.field("display_name").validation({required:!0}),e.field("description").validation({required:!0}),e.field("permissions","reference_many").targetEntity(e.entity("permissions")).targetField(e.field("name")).validation({required:!0})]),t.editionView().fields([e.field("description").validation({required:!0}),e.field("permissions","reference_many").targetEntity(e.entity("permissions")).targetField(e.field("name")).validation({required:!0})]),t}},695:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("permissions");return t.listView().fields([e.field("id"),e.field("display_name").isDetailLink(!0),e.field("description")]),t.showView().fields([e.field("id"),e.field("name"),e.field("display_name"),e.field("description")]),t.creationView().fields([e.field("name").validation({required:!0}),e.field("display_name").validation({required:!0}),e.field("description").validation({required:!0})]),t.editionView().fields([e.field("description").validation({required:!0})]),t}},696:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("atmospheres"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show)]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.editionView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.deletionView(),t};var l=t(686),a=i(l)},697:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("demands"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show)]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.editionView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.deletionView(),t};var l=t(686),a=i(l)},698:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("hours");return t.deletionView(),t}},699:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("populations"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(l.show)]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.editionView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.deletionView(),t};var l=t(686),a=i(l)},700:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("choices");return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("restaurant.name")]),t.showView().fields([e.field("id"),e.field("restaurant.id","reference").targetEntity(e.entity("restaurants")).targetField(e.field("name").map(a.default)).label("Name").validation({required:!0}),e.field("photos","embedded_list").targetFields([e.field("id").editable(!1),e.field("path").template('<travel-photo-viewer value="::value" />'),e.field("content","text")])]),t.creationView().fields([e.field("restaurant_id","reference").targetEntity(e.entity("restaurants")).targetField(e.field("name").map(a.default)).perPage(9999).validation({required:!0})]),t.editionView().fields([e.field("restaurant.id").editable(!1),e.field("restaurant.name").editable(!1),e.field("photos","embedded_list").targetFields([e.field("id").editable(!1),e.field("path").template('<travel-photo-viewer value="::value" />'),e.field("content","text")]).template('<ma-custom-embed field="::field" value="entry.values[field.name()]" />'),e.field("file","file").label("Add New Photos").uploadInformation({url:"",apifilename:"path",method:"POST",multiple:!0,headers:{Authorization:"Bearer "+window.localStorage.getItem("feedme_admin_token")}}).template('<photo-edit-field url="choices/{id}/photos" field="::field" linked="photos" value="entry.values[field.name()]" entry="entry"></photo-edit-field>')]),t};var l=t(685),a=i(l)},701:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){var i=t.includes("admin"),l=e.entity("restaurants"),n=e.entity("locales"),r=e.entity("themes"),s=(0,d.default)(e,n);return r.listView().fields([e.field("id"),e.field("intlName","embedded_list").targetFields(s.show),e.field("pageview","number"),e.field("state","boolean")]).actions(['<ma-create-button entry="entry" entity="entity" />','<export-excel-button entry="entry" entity="entity" />','<a class="btn btn-default" href="//f.feed-me.me/export/theme_restaurant.csv" target="_blank">\n        <span class="glyphicon glyphicon-download" aria-hidden="true"></span>&nbsp;<span class="hidden-xs ng-scope">Export Restaurants</span>\n    </a>']),r.showView().fields([e.field("intlName","embedded_list").targetFields(s.show),e.field("state","boolean"),e.field("intlDescription","embedded_list").targetFields(s.show),e.field("recommend","boolean").label("精選"),e.field("restaurants","embedded_list").targetEntity(l).targetFields([e.field("id"),e.field("name"),e.field("intlThemeIntro","embedded_list").targetFields(s.show)]),e.field("cover").template('<photo-viewer value="::value" />')]).actions(["edit","list",i&&"delete"]),r.creationView().fields([s.placeholder,e.field("intlName","embedded_list").targetFields(s.edit).validation({required:!0}),e.field("intlDescription","embedded_list").targetFields(s.edit).validation({required:!0}),e.field("recommend","boolean").label("精選").choices([{value:!0,label:"精選"},{value:!1,label:"無"}]).defaultValue(!1),e.field("state","boolean").label("上架中").choices([{value:!0,label:"上架中"},{value:!1,label:"下架"}]).defaultValue(!0).validation({required:!0}),e.field("restaurants","embedded_list").targetFields([e.field("id","reference").targetEntity(l).perPage(9999).targetField(e.field("name")),e.field("intlThemeIntro","embedded_list").targetFields(s.edit)]).validation({required:!0}),e.field("_ids","reference").targetEntity(l).perPage(9999).targetField(e.field("name").map(a.default)).editable(!1).label("").validation({required:!1}),e.field("photo-upload").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Cover Upload").validation({required:!0})]),r.editionView().fields(r.creationView().fields()).actions(["list",i&&"delete"]),r};var l=t(685),a=i(l),n=t(686),d=i(n)},702:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("recommends");return t.listView().fields([e.field("id"),e.field("themeId","reference").targetEntity(e.entity("themes")).targetField(e.field("name")).detailLinkRoute("show"),e.field("pageview","number"),e.field("state","boolean")]),t.creationView().fields([e.field("themeId","reference").targetEntity(e.entity("themes")).targetField(e.field("name").map(a.default)).validation({required:!0})]),t.deletionView(),t};var l=t(685),a=i(l)},703:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("travels");return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("name").isDetailLink(!0).detailLinkRoute("show"),e.field("district.name"),e.field("pageview","number")]),t.showView().fields([e.field("id"),e.field("name"),e.field("cover").template('<photo-viewer value="::value" />'),e.field("content"),e.field("photos","embedded_list").targetFields([e.field("id").editable(!1),e.field("path").template('<travel-photo-viewer value="::value" />'),e.field("content","text")])]),t.creationView().fields([e.field("name").validation({required:!0}),e.field("district_id","reference").targetEntity(e.entity("districts")).targetField(e.field("name").map(a.default)).label("Districts").validation({required:!0}),e.field("photo-upload").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Cover Upload").validation({required:!0})]),t.editionView().fields([e.field("name").validation({required:!0}),e.field("district.id","reference").targetEntity(e.entity("districts")).targetField(e.field("name").map(a.default)).label("Districts").validation({required:!0}),e.field("cover").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Photo Upload").validation({required:!0}),e.field("content","text"),e.field("photos","embedded_list").targetFields([e.field("id").editable(!1),e.field("path").template('<travel-photo-viewer value="::value" />'),e.field("content","text")]).template('<ma-custom-embed field="::field" value="entry.values[field.name()]" />'),e.field("file","file").label("Add New Photos").uploadInformation({url:"",apifilename:"path",method:"POST",multiple:!0,headers:{Authorization:"Bearer "+window.localStorage.getItem("feedme_admin_token")}}).template('<photo-edit-field url="travels/{id}/photos" field="::field" value="entry.values[field.name()]" entry="entry"></photo-edit-field>')]),t};var l=t(685),a=i(l)},704:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("travel_photos");return t.deletionView(),t}},705:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("choice_photos");return t.deletionView(),t}},706:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("cities"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlName","embedded_list").targetFields(l.show)]),t.showView().fields([e.field("id"),l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("regions","reference_many").targetEntity(e.entity("regions")).targetField(e.field("intlName").map(d.default)).detailLinkRoute("show")]),t.creationView().fields([l.placeholder,e.field("intlName","embedded_list").targetFields(l.edit).validation({required:!0})]),t.editionView().fields(t.creationView().fields()),t};var l=t(686),a=i(l),n=t(688),d=i(n)},707:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("locales"),i=(0,a.default)(e,t),l=e.entity("pages");return l.listView().fields([e.field("id"),e.field("intlTitle","embedded_list").targetFields(i.show)]),l.editionView().fields([i.placeholder,e.field("intlTitle","embedded_list").targetFields(i.edit).validation({required:!0}),e.field("intlSubtitle","embedded_list").targetFields(i.edit).validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Image").validation({required:!0})]),l.deletionView(),l};var l=t(686),a=i(l)},708:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("abouts"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlTitle","embedded_list").targetFields(l.show)]),t.editionView().fields([l.placeholder,e.field("intlTitle","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("photo-upload-1").template('<base64-img name="logo" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Logo").validation({required:!0}),e.field("photo-upload-2").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Image").validation({required:!0}),e.field("about_contents","embedded_list").targetFields([e.field("intlTitle","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Image").validation({required:!0})])]),t.deletionView(),t};var l=t(686),a=i(l)},709:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("about_contents");return t.listView().fields([e.field("id"),e.field("title")]),t.editionView().fields([e.field("about_id","reference").targetEntity(e.entity("abouts")).targetField(e.field("title")).label("About").validation({required:!0}),e.field("title").validation({required:!0}),e.field("text","text").validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Image").validation({required:!0})]),t.deletionView(),t}},710:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("mores"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("slug"),e.field("intlText","embedded_list").targetFields(l.show)]),t.editionView().fields([l.placeholder,e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Image").validation({required:!0}),e.field("photo-upload").template('<base64-img name="icon" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Icon").validation({required:!0})]),t.deletionView(),t};var l=t(686),a=i(l)},711:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("comments");return t.listView().fields([e.field("id"),e.field("content"),e.field("user.name")]),t.deletionView(),t}},712:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("tastes"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlText","embedded_list").targetFields(l.show)]),t.showView().fields([e.field("id"),e.field("intlText","embedded_list").targetFields(l.show),e.field("color")]),t.creationView().fields([l.placeholder,e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("color")]),t.editionView().fields([l.placeholder,e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("color")]),t};var l=t(686),a=i(l)},713:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("notifies");return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("mail").isDetailLink(!0).detailLinkRoute("show")]),t.showView().fields([e.field("id"),e.field("mail")]),t.creationView().fields([e.field("mail").validation({required:!0})]),t.editionView().fields(t.creationView().fields()),t}},714:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("footers"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlText","embedded_list").targetFields(l.show),e.field("link")]),t.showView().fields([e.field("id"),e.field("intlText","embedded_list").targetFields(l.show),e.field("link")]),t.editionView().fields(l.placeholder,e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("link").validation({required:!0})),t};var l=t(686),a=i(l)},715:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("locales");return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("code")]),t.showView().fields([e.field("id"),e.field("code")]),t.creationView().fields([e.field("code").validation({required:!0})]),t.editionView().fields(t.creationView().fields()),t}},716:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("slides"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlTitle","embedded_list").targetFields(l.show),e.field("intlSubtitle","embedded_list").targetFields(l.show),e.field("link")]),t.showView().fields([e.field("intlTitle","embedded_list").targetFields(l.show),e.field("intlSubtitle","embedded_list").targetFields(l.show),e.field("link"),e.field("image").template('<photo-viewer value="::value" />')]),t.creationView().fields([l.placeholder,e.field("intlTitle","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("intlSubtitle","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("link").validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Image").validation({required:!0})]),t.editionView().fields(t.creationView().fields()),t.deletionView(),t};var l=t(686),a=i(l)},717:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("watermarks");return t.listView().fields([e.field("id"),e.field("image").isDetailLink(!0)]),t.creationView().fields([e.field("image").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />'),e.field("example").template('<watermark-editor field="::field" entry="entry" />')]),t.editionView().fields([e.field("image").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />'),e.field("example").template('<watermark-editor field="::field" entry="entry" />')]),t}},718:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("sideBars"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlText","embedded_list").targetFields(l.show),e.field("link")]),t.showView().fields([e.field("id"),e.field("intlText","embedded_list").targetFields(l.show),e.field("link"),e.field("image").template('<photo-viewer value="::value" />')]),t.creationView().fields([l.placeholder,e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("link").validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Photo Upload").validation({required:!0})]),t.editionView().fields([l.placeholder,e.field("intlText","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("link").validation({required:!0}),e.field("photo-upload").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />').label("Photo Upload").validation({required:!0})]),t};var l=t(686),a=i(l),n=t(688);i(n)},719:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("settings");return t.listView().fields([e.field("id"),e.field("key").isDetailLink(!0)]),t.editionView().fields([e.field("value").template('<setting-field field="::field" value="entry.values[field.name()]" entry="entry" />').validation({required:!0})]),t}},720:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("agents");return t}},721:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("articles"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id"),e.field("intlTitle","embedded_list").targetFields(l.show)]),t.creationView().fields([l.placeholder,e.field("intlTitle","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("intlSubtitle","embedded_list").targetFields(l.edit),e.field("cover").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').validation({required:!0})]),t.editionView().fields([l.placeholder,e.field("intlTitle","embedded_list").targetFields(l.edit).validation({required:!0}),e.field("intlSubtitle","embedded_list").label("副標(選填)").targetFields(l.edit),e.field("cover").template('<base64-img name="cover" field="::field" value="entry.values[field.name()]" entry="entry" />').validation({required:!0}),e.field("article_contents","embedded_list").label("內文區塊").targetFields([e.field("intlContent","embedded_list").label("內文").targetFields(l.edit),e.field("intlNote","embedded_list").label("圖片副標(選填)").targetFields(l.edit),e.field("image").template('<base64-img name="image" field="::field" value="entry.values[field.name()]" entry="entry" />')])]),t.deletionView(),t};var l=t(686),a=i(l)},722:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e.entity("tutorials"),i=e.entity("locales"),l=(0,a.default)(e,i);return t.listView().fields([e.field("id").detailLinkRoute("show"),e.field("intlTitle","embedded_list").targetFields(l.show),e.field("active","boolean")]),t.showView().fields([e.field("id"),e.field("intlTitle","embedded_list").targetFields(l.show),e.field("intlSubtitle","embedded_list").targetFields(l.show),e.field("active","boolean")]),t.creationView().fields([l.placeholder,e.field("selector","string"),e.field("intlTitle","embedded_list").targetFields(l.edit),e.field("intlSubtitle","embedded_list").targetFields(l.edit)]),t.editionView().fields(l.placeholder,e.field("intlTitle","embedded_list").targetFields(l.edit),e.field("intlSubtitle","embedded_list").targetFields(l.edit),e.field("active","boolean")),t};var l=t(686),a=i(l)},723:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(724),a=i(l),n=t(766),d=i(n),r=t(768),s=i(r),o=t(769),u=i(o),f=t(770),c=i(f),m=t(772),p=i(m),v=t(774),g=i(v),y=t(775),h=i(y),b=t(782),_=i(b),w=t(783),j=i(w),F=t(784),k=i(F),E=t(785),q=i(E),V=t(786),M=i(V),P=t(787),x=i(P),O=t(788),N=i(O),I=t(789),L=i(I),T=t(842),D=i(T),C=t(843),R=i(C),z=t(844),A=i(z),S=t(845),U=i(S),B=t(846),H=i(B),Y=t(847),W=i(Y);exports.default={addrField:a.default,placeIdField:d.default,locationField:s.default,youtubeField:u.default,addrViewField:c.default,youtubeCreateField:p.default,youtubeEditField:g.default,photoEditField:h.default,photoEditViewer:_.default,photoViewer:j.default,multiPhotoViewer:q.default,base64Img:M.default,maTimeField:x.default,subcategoryDropdown:R.default,travelPhotoViewer:k.default,openTimeField:D.default,maHideField:N.default,maCustomEmbed:A.default,commentsList:U.default,exportExcelButton:H.default,watermarkEditor:W.default,settingField:L.default}},724:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(725),a=i(l);exports.default=function(){return{restrict:"E",scope:{value:"=",field:"=",entry:"="},template:"\n      <ma-input-field field=\"::field\" value=\"value\"></ma-input-field>\n      <ui-gmap-google-map\n        center='map.center'\n        zoom='map.zoom'\n        events='map.events'\n      >\n        <ui-gmap-marker\n          idKey='marker.id'\n          coords='marker.coords'\n          options='marker.options'\n          events='marker.events'\n        >\n        </ui-gmap-marker>\n      </ui-gmap-google-map>\n    ",link:function(e,t){var i={latitude:35.727659,longitude:139.733818};e.map={center:(0,a.default)({},i),zoom:16},e.marker={coords:(0,a.default)({},i),id:"center"};var l=function(t){e.map.center={latitude:t.lat,longitude:t.lng},e.marker.coords={latitude:t.lat,longitude:t.lng}},n=function(t){l(t),e.$apply(function(){e.entry.values.lat=t.lat,e.entry.values.lng=t.lng})},r=e.$watch("entry",function(e,t){var i=e.values.location;i&&i!==t.values.location&&l(i)},!0);e.$on("$destroy",function(){r()});var s=t.find("input");s.on("focus",function(){r()}),s.on("blur",function(e){var t=e.target.value;t&&(0,d.default)(t,n)}),e.entry.values["location.lat"]&&n({lat:e.entry.values["location.lat"],lng:e.entry.values["location.lng"]})}}};var n=t(764),d=i(n)},764:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){var i={address:e,language:"zh_TW",region:"jp",key:"AIzaSyBoIeGEV4KX2WWGXbFe5UpqnJNKmBJ2KIw"};fetch("https://maps.googleapis.com/maps/api/geocode/json?"+(0,a.default)(i)).then(function(e){return e.json()}).then(function(e){if("OK"===e.status){var i=e.results[0].geometry.location;t(i)}else console.log(e)})},t(554);var l=t(765),a=i(l)},765:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(!(0,i.isObject)(e))return null===e?"":e.toString();var t=(0,i.map)(e,function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}),l=t.join("&").replace(/%20/g,"+");return l};var i=t(408)},766:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"=",field:"=",entry:"="},template:'\n      <ma-input-field field="::field" value="value"></ma-input-field>\n    ',link:function(e,t){var i=function(t){var i=t.geometry.location;i&&e.$apply(function(){e.entry.values.address=t.vicinity;var l=i.lat(),a=i.lng();e.entry.values.location={lat:l,lng:a},e.entry.values.lat=l,e.entry.values.lng=a})};t.find("input").bind("blur",function(e){var t=e.target.value;t&&(0,a.default)(t,i)})}}};var l=t(767),a=i(l)},767:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){var i=new window.google.maps.places.PlacesService(document.createElement("div"));i.getDetails({placeId:e},t)}},768:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"=",field:"=",entry:"="},template:"\n      <ma-input-field field=\"::field\" value=\"value\"></ma-input-field>\n      <ui-gmap-google-map\n        center='map.center'\n        zoom='map.zoom'\n        events='map.events'\n      >\n        <ui-gmap-marker\n          idKey='marker.id'\n          coords='marker.coords'\n          options='marker.options'\n          events='marker.events'\n        >\n        </ui-gmap-marker>\n      </ui-gmap-google-map>\n    ",link:function(e,t){var i={latitude:e.entry.values["location.lat"]||35.727659,longitude:e.entry.values["location.lng"]||139.733818};e.entry.values.lat=i.latitude,e.entry.values.lng=i.longitude,e.map={center:i,zoom:16,events:{dragend:function(t){e.entry.values.lat=t.center.lat(),e.entry.values.lng=t.center.lng()}}},e.marker={coords:i,id:"center",options:{draggable:!0},events:{dragend:function(t){e.entry.values.lat=t.position.lat(),e.entry.values.lng=t.position.lng()}}};var l=function(t){var i={latitude:t.lat,longitude:t.lng};e.$apply(function(){e.map.center=i,e.marker.coords=i,e.entry.values.lat=t.lat,e.entry.values.lng=t.lng})};t.find("input").bind("blur",function(e){var t=e.target.value;t&&(0,a.default)(t,l)}),e.value&&(0,a.default)(e.value,l)}}};var l=t(764),a=i(l)},769:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{videoId:"="},template:'<div class="embed-container">\n      <youtube-video video-id="videoId" />\n    </div>'}}},770:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"="},template:'<ma-string-field value="value"></ma-string-field>',link:function(e,t){var i=e.value;i&&(0,d.default)(i,function(){(0,a.default)(t,location)})}}};var l=t(771),a=i(l),n=t(764),d=i(n)},771:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lat:35.727659,lng:139.733818},i=n.default.element('<div style="width:100%; height: 300px;"/>');
e.append(i);var l=new window.google.maps.Map(i[0],{center:t,zoom:16});new window.google.maps.Marker({position:t,map:l});return l}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var a=t(337),n=i(a)},772:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(726),a=i(l);exports.default=function(){"ngInject";return{restrict:"E",scope:{value:"=",field:"=",entry:"="},template:'\n      <ma-input-field field="::field" value="value"></ma-input-field>\n      <youtube-field ng-if="videoId" class="embed-container" video-id="videoId" />\n    ',link:function(e,t){t.find("input").bind("blur",function(t){var i=(0,d.default)(t.target.value);i&&((0,a.default)(e.entry.values,{video:i}),(0,a.default)(e,{videoId:i}),e.$apply())})}}};var n=t(773),d=i(n)},773:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/,i=e.match(t);return!(!i||11!==i[1].length)&&i[1]}},774:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(726),a=i(l);exports.default=function(){"ngInject";return{restrict:"E",scope:{value:"=",field:"=",entry:"="},template:'\n      <ma-input-field field="::field" value="value"></ma-input-field>\n      <youtube-field ng-if="value" class="embed-container" video-id="value" />\n    ',link:function(e,t){t.find("input").bind("blur",function(t){var i=(0,d.default)(t.target.value);i&&((0,a.default)(e,{value:i}),(0,a.default)(t.target,{value:i}))})}}};var n=t(773),d=i(n)},775:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return{restrict:"E",scope:{field:"&",entry:"=",value:"=",url:"@",linked:"@"},link:{pre:function(e){var t=e.field().uploadInformation();if(!t.hasOwnProperty("url"))throw new Error("You must provide a URL property to allow the upload of files.");e.multiple=!!t.hasOwnProperty("multiple")&&t.multiple,e.accept="*",t.hasOwnProperty("accept")&&(e.accept=t.accept),e.apifilename=!!t.hasOwnProperty("apifilename")&&t.apifilename;var i=e.value?e.value.split(","):[];e.files={};for(var l in i)e.files[i[l]]={name:i[l],progress:0}},post:function(t,i){var l=t.field();t.name=l.name(),t.v=l.validation(),t.value&&(t.v.required=!1);var a=i.find("input")[0],d=l.attributes();for(var s in d)a.setAttribute(s,d[s]);t.fileSelected=function(i){if(i&&i.length){var l;t.files={};for(var a in i)l=angular.copy(t.field().uploadInformation()),l.url=(0,r.default)(t.url),l.file=i[a],e.upload(l).progress(function(e){t.files[e.config.file.name]={name:e.config.file.name,progress:Math.min(100,parseInt(100*e.loaded/e.total))}}).success(function(e,i,l,a){if(t.files[a.file.name]={name:t.apifilename?e[t.apifilename]:a.file.name,progress:0},t.apifilename){var d=(0,n.default)(t.files).map(function(e){return t.files[e].name});t.value=d.join(",")}else t.value=(0,n.default)(t.files).join(",");t.entry.values[t.linked].push(e)}).error(function(e,i,l,a){delete t.files[a.file.name],t.value=(0,n.default)(t.files).join(",")})}},t.selectFile=function(){a.click()}}},template:'\n    <div class="row">\n      <div class="col-md-2">\n        <a class="btn btn-default" ng-click="selectFile()">\n          <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>\n          &nbsp;\n          <span>Add new photos</span>\n        </a>\n      </div>\n      <div class="col-md-10">\n        <div class="row" ng-repeat="file in files track by $index">\n          <div class="col-md-3" style="padding-top: 6px;">\n            <div class="progress" style="margin-bottom: 0;" ng-if="file.progress">\n              <div class="progress-bar" role="progressbar" aria-valuenow="{{ file.progress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ file.progress }}%;">\n                <span class="sr-only" translate="N_COMPLETE" translate-values="{ progress: file.progress }"></span>\n              </div>\n            </div>\n          </div>\n          <div class="col-md-9" style="padding-top: 6px;"><small><em>{{ file.name }}<em><small></div>\n        </div>\n      </div>\n    </div>\n    <div class="row"><div class="col-xs-12"><hr /></div></div>\n    <input type="file" ngf-multiple="multiple" accept="{{ accept }}" ngf-select="fileSelected($files)"\n      id="{{ name }}" name="{{ name }}" ng-required="v.required" style="display:none" />\n    '}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(776),n=i(a);exports.default=l;var d=t(780),r=i(d);l.$inject=["Upload"]},780:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.split("{id}");return""+d.API_ROOT+t[0]+(0,n.default)()+t[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var a=t(781),n=i(a),d=t(552)},781:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e=window.location.hash,t=e.replace(/\D/g,"");return t}},782:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"="},template:'\n    <div class="row">\n      <div class="col-sm-6 col-lg-4" ng-repeat="(key, photo) in value">\n        <a class="photo-edit" ng-href="#/restaurant_photos/delete/{{photo.id}}">\n          <img src="{{photo.path}}" />\n          <div class="overlay"></div>\n        </a>\n        <input class="form-control photo-name" ng-model="photo.name" />\n      </div>\n    </div>\n    '}}},783:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"="},template:'\n    <div class="row">\n      <div class="col-xs-12">\n        <img style="max-width:100%;" src="{{value}}" />\n      </div>\n    </div>\n    '}}},784:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"="},template:'\n    <div class="row">\n      <div class="col-xs-12">\n        <span>{{value}}</span>\n        <img style="max-width:100%;" src="{{value}}" />\n      </div>\n    </div>\n    '}}},785:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"="},template:'\n    <div class="row">\n      <div class="col-sm-4" ng-repeat="(key, photo) in value">\n        <div class="photo-view">\n          <img style="width:100%;" src="{{photo.path}}" />\n        </div>\n        <p>{{photo.name}}</p>\n      </div>\n    </div>\n    '}}},786:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{value:"=",field:"=",entry:"=",name:"@"},template:'\n      <div class="row">\n        <div class="col-md-2">\n          <input class="btn btn-default" type="file" />\n        </div>\n      </div>',link:function(e,t){var i=!1,l=t.find("input"),n=t[0].getElementsByClassName("row")[0],d=new FileReader,r=e.name||"photo",s=e.entry.values[r],o=function(e){var t=a.default.element('\n          <div class="col-sm-12 img-preview-area">\n            <img class="img-preview" src="'+e+'" />\n          </div>\n        ');a.default.element(n).append(t)};!i&&s&&o(s),i=!0,d.addEventListener("load",function(){var t=n.getElementsByClassName("img-preview");t.length?t[0].src=d.result:o(d.result),e.$apply(function(){e.entry.values[r]=d.result})},!1),l.bind("change",function(){var e=l[0].files[0];e&&d.readAsDataURL(e)})}}};var l=t(337),a=i(l)},787:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(){return{scope:{field:"&",value:"="},restrict:"E",link:function(e,t){var i=e.field();e.name=i.name(),e.rawValue=null==e.value?null:e.value instanceof Date?e.value:new Date((0,n.default)(e.value).tz("Asia/Tokyo").format("YYYY-MM-DD HH:mm:ss")),e.$watch("rawValue",function(t){t&&(e.value=t)}),e.v=i.validation();var l=t.find("input").eq(0),a=i.attributes();for(var d in a)l.attr(d,a[d])},template:'<input\n      type="text" ng-model="rawValue" id="{{ name }}" name="{{ name }}"\n      uib-timepicker ng-required="v.required"\n      minute-step="30" show-meridian="false" show-spinners="false"\n    />'}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var a=t(557),n=i(a)},788:function(e,exports){"use strict";function t(e,t){return{restrict:"E",scope:{field:"&",entry:"=",value:"=",entity:"&",form:"&",datastore:"&"},link:function(i,l){var a=i.field(),n=a.type();i.field=a,i.type=n,i.entity=i.entity(),i.form=i.form(),i.datastore=i.datastore(),i.getCssClasses=function(e){return"ng-admin-field-"+a.name().replace(".","_")+" ng-admin-type-"+n+" "+(a.getCssClasses(e)||"col-sm-10 col-md-8 col-lg-7")},i.getInput=function(){return i.form[a.name()]},i.fieldHasValidation=function(){var e=this.getInput();return e&&e.$dirty},i.fieldIsValid=function(){var e=this.getInput();return e&&e.$valid},i.getFieldValidationClass=function(){return this.fieldHasValidation()?this.fieldIsValid()?"has-success":"has-error":null};var d="",r="",s="";i.field.editable()&&(d='<div ng-class="getCssClasses(entry)">\n    '+(!a.templateIncludesLabel()&&a.getTemplateValue(i.entry)||e[n].getWriteWidget())+'\n    <span ng-show="fieldHasValidation()" class="glyphicon form-control-feedback" ng-class="fieldIsValid() ? \'glyphicon-ok\' : \'glyphicon-remove\'"></span>\n</div>',r='<label for="{{ field.name() }}" class="col-sm-2 control-label">\n        {{ field.label() | translate }}<span ng-if="field.validation().required">&nbsp;*</span>&nbsp;\n    </label>',s='<div id="row-{{ field.name() }}" class="form-field form-group inline-fields has-feedback" ng-class="getFieldValidationClass()">\n            '+r+"\n            "+d+"\n          </div>",l.append(s)),t(l.contents())(i)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,t.$inject=["FieldViewConfiguration","$compile"]},789:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["Restangular",function(e){"ngInject";return{restrict:"E",scope:{value:"=",field:"=",entry:"="},template:'\n      <ma-input-field field="::field" value="value"></ma-input-field>\n    ',link:function(t,i){var l=void 0,s=document.createElement("p"),o=document.createElement("tabel"),u=document.createElement("th"),f=document.createElement("td");f.innerText="可用的標籤",u.appendChild(f),o.appendChild(u),r.forEach(function(e){var t=document.createElement("tr"),i=document.createElement("td");i.innerText="{"+e+"}",t.appendChild(i),o.appendChild(t)}),s.style.paddingTop="1em",i.append(s),i.append(o);var c=function(e){l&&(s.innerText=e.replace(d,function(e,t){return(0,a.default)(l,t)}))};e.allUrl("restaurants",n.API_ROOT+"restaurants/latest/1").getList().then(function(e){var i=e.data;l=i[0],t.entry.values.value&&c(t.entry.values.value)});var m=i.find("input");m.on("blur",function(e){var t=e.target.value;c(t)})}}}];var l=t(790),a=i(l),n=t(552),d=/{([^}]*)}/g,r=["name","intro","district.name","region.name"]},842:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(){return{scope:{field:"&",value:"=",datastore:"&"},restrict:"E",link:{pre:function(e){var t=e.field(),i=t.targetEntity(),l=i.name(),a=t.targetFields(),d=t.sortField(),s="DESC"===t.sortDir()?-1:1,u=void 0;if(t.permanentFilters()){var f=t.permanentFilters(),c=(0,r.default)(f);u=function(e){return c.reduce(function(t,i){return t&&e.values[i]===f[i]},!0)}}else u=function(){return!0};e.fields=a,e.targetEntity=i,e.entries=o.default.createArrayFromRest(e.value||[],a,l,i.identifier().name()).sort(function(e,t){return e.values[d]>t.values[d]?s:e.values[d]<t.values[d]?-1*s:0}).filter(u),e.addNew=function(){return e.entries.push(o.default.createForFields(a))},e.duplicate=function(t){var i=o.default.createForFields(a);i.values=(0,n.default)({},t.values,{id:null}),e.entries.push(i)},e.remove=function(t){e.entries=e.entries.filter(function(e){return e!==t})},e.$watch("entries",function(t,i){t!==i&&(e.value=t.map(function(e){return e.transformToRest(a)}))},!0)}},template:'\n<div class="row"><div class="col-sm-12">\n    <ng-form ng-repeat="entry in entries track by $index" class="subentry" name="subform_{{$index}}" ng-init="formName = \'subform_\' + $index">\n        <div class="duplicate_button_container">\n            <a class="btn btn-default btn-sm" ng-click="duplicate(entry)"><span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span>&nbsp;<span>Duplicate</span></a>\n        </div>\n        <div class="remove_button_container">\n            <a class="btn btn-default btn-sm" ng-click="remove(entry)"><span class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span>&nbsp;<span translate="REMOVE"></span></a>\n        </div>\n        <div class="form-field form-group time-input-group" ng-repeat="field in ::fields track by $index">\n            <ma-hide-field field="::field" value="entry.values[field.name()]" entry="entry" entity="::targetEntity" form="formName" datastore="::datastore()"></ma-hide-field>\n        </div>\n        <hr/>\n    </ng-form>\n    <div class="form-group">\n        <div class="col-sm-offset-2 col-sm-10">\n            <a class="btn btn-default btn-sm" ng-click="addNew()"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>&nbsp;<span translate="ADD_NEW" translate-values="{ name: field().name() }"></span></a>\n        </div>\n    </div>\n</div></div>'}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(725),n=i(a),d=t(776),r=i(d);exports.default=l;var s=t(349),o=i(s);l.$inject=[]},843:function(e,exports){"use strict";function t(){return{restrict:"E",scope:{field:"&",value:"=",entry:"=?",datastore:"&?"},template:'<ma-choices-field\n                field="field()"\n                datastore="datastore()"\n                refresh="refresh($search)"\n                value="value">\n            </ma-choices-field>',link:function(e){var t=!1,i=e.field(),l=i.targetEntity().identifier().name();e.name=i.name(),e.v=i.validation();var a=e.datastore().getEntries(i.targetEntity().uniqueId+"_choices");if(e.value&&e.value.length){var n=a.filter(function(t){return e.value.includes(t._identifierValue)});t||(e.entry.values.category=n[0].values.category,t=!0);var d=n.length>0;d||a.unshift(e.datastore().getEntries(i.targetEntity().uniqueId+"_values").find(function(t){return t.values[l]===e.value}))}var r=a.map(function(e){return{value:e._identifierValue,label:e.values[i.targetField().name()],category:e.values.category}});e.$broadcast("choices:update",{choices:r}),e.$watchCollection("entry.values.category",function(t,i){t&&e.$broadcast("choices:update",{choices:r.filter(function(e){return e.category===t})})})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t},844:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(){return{scope:{field:"&",value:"=",datastore:"&?"},restrict:"E",link:{pre:function(e){var t,i=e.field(),l=i.targetEntity(),a=l.name(),d=i.targetFields(),s=i.sortField(),o="DESC"===i.sortDir()?-1:1;if(i.permanentFilters()){var u=i.permanentFilters(),f=(0,n.default)(u);t=function(e){return f.reduce(function(t,i){return t&&e.values[i]===u[i]},!0)}}else t=function(){return!0};e.fields=d,e.targetEntity=l;var c=function(){e.entries=r.default.createArrayFromRest(e.value||[],d,a,l.identifier().name()).sort(function(e,t){return e.values[s]>t.values[s]?o:e.values[s]<t.values[s]?-1*o:0}).filter(t)};c(),e.remove=function(t){e.entries=e.entries.filter(function(e){return e!==t})},e.$watch("entries",function(t,i){t!==i&&(e.value=t.map(function(e){return e.transformToRest(d)}))},!0),e.$watch("value",function(e,t){e.length<=t.length||c()},!0)}},template:'\n<div class="row"><div class="col-sm-12">\n    <ng-form ng-repeat="entry in entries track by $index" class="subentry" name="subform_{{$index}}" ng-init="formName = \'subform_\' + $index">\n        <div class="remove_button_container">\n            <a class="btn btn-default btn-sm" ng-click="remove(entry)"><span class="glyphicon glyphicon-minus-sign" aria-hidden="true"></span>&nbsp;<span translate="REMOVE"></span></a>\n        </div>\n        <div class="form-field form-group" ng-repeat="field in ::fields track by $index">\n            <ma-field field="::field" value="entry.values[field.name()]" entry="entry" entity="::targetEntity" form="formName" datastore="::datastore()"></ma-field>\n        </div>\n        <hr/>\n    </ng-form>\n</div></div>'}}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(776),n=i(a);exports.default=l;var d=t(349),r=i(d);l.$inject=[]},845:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(i,l){var a="DESC"===t?-1:1;return i.values[e]>l.values[e]?a:i.values[e]<l.values[e]?-1*a:0}}function a(e){var t=e();return{scope:{field:"&",value:"&",datastore:"&"},restrict:"E",link:{pre:function(e){var i,a=e.field(),n=a.targetEntity(),r=n.name(),o=a.targetFields(),u=a.sortField(),f=a.sortDir();if(a.permanentFilters()){var c=a.permanentFilters(),m=(0,d.default)(c);i=function(e){return m.reduce(function(t,i){return t&&e.values[i]===c[i]},!0)}}else i=function(){return!0};var p=s.default.createArrayFromRest(e.value()||[],o,r,n.identifier().name()).sort(l(u,f)).filter(i);if(!r){var v=0;p=p.map(function(e){return e._identifierValue=v++,e})}e.field=a,e.targetFields=o,e.entries=p,e.entity=r?t.getEntity(r):n,e.sortField=u,e.sortDir=f,e.sort=function(t){var i="ASC",a=t.name();e.sortField===a&&(i="ASC"===e.sortDir?"DESC":"ASC"),e.entries=e.entries.sort(l(a,i)),e.sortField=a,e.sortDir=i}}},template:'\n<ma-datagrid ng-if="::entries.length > 0"\n    entries="entries"\n    fields="::targetFields"\n    list-actions="::field.listActions()"\n    entity="::entity"\n    datastore="::datastore()"\n    sort-field="sortField"\n    sort-dir="sortDir"\n    sort="::sort">\n</ma-datagrid>'}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(776),d=i(n);exports.default=a;var r=t(349),s=i(r);a.$inject=["NgAdminConfiguration"]},846:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{entity:"="},template:'<a class="btn btn-default" ng-click="exportToExcel()">\n        <span class="glyphicon glyphicon-download" aria-hidden="true"></span>&nbsp;<span class="hidden-xs ng-scope">Export All</span>\n    </a>',link:function(e){var t=e.entity;e.exportToExcel=function(){window.open("//f.feed-me.me/export/"+t._name+".csv")}}}}},847:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(848),a=i(l),n=t(726),d=i(n);exports.default=function(){return{restrict:"E",scope:{field:"=",entry:"="},link:function(e,t){var i=document.createElement("div"),l=document.createElement("canvas");t.append(i),i.appendChild(l);var n=(0,u.default)(c,{size:e.entry.values.size,x:e.entry.values.x,y:e.entry.values.y,position:e.entry.values.position});(0,d.default)(e.entry.values,n);var r=new s.default.Canvas(l),o=function(e,t){var i=l.width/2,n=l.height/2,d=(0,a.default)(e-i),r=(0,a.default)(t-n);return r>0?d>0?"bottom-right":"bottom-left":d>0?"top-right":"top-left"},m=function(e){if(e){var t=l.width,i=f(t),a=n.position,d=n.size,r=n.x,o=n.y;e.scaleToWidth(t*(d/100));var u=function(){var l=t*(r/100)+e.width*e.scaleX/2,n=i*(o/100)+e.height*e.scaleX/2,d=t-l,s=i-n;switch(a){case"top-right":return[d,n];case"bottom-left":return[l,s];case"bottom-right":return[d,s];case"top-left":default:return[l,n]}}();e.setPositionByOrigin(new s.default.Point(u[0],u[1]))}},p=function(e){var t=r.getObjects();t.length&&t.forEach(function(e){return r.remove(e)}),s.default.Image.fromURL(e,function(e){m(e),e.lockRotation=!0,e.set({borderColor:"#FF5252",cornerColor:"#FF5252",cornerSize:6}),r.add(e),r.setActiveObject(e)})},v=function(){var e=i.getBoundingClientRect(),t=e.width,a=f(t);l.height=a,l.width=t,r.setHeight(a),r.setWidth(t),m(r.getObjects()[0])},g=e.$watch("entry",function(e,t){var i=e.values.image;i&&i!==t.values.image&&p(i)},!0);r.on("object:modified",function(t){var i=t.target,a=i.width,n=i.height,d=i.scaleX,r=i.left,s=i.top,u={width:a*d,height:n*d},f=o(r,s),c=function(){var e=l.width-r-u.width,t=l.height-s-u.height;switch(f){case"top-right":return[e,s];case"bottom-left":return[r,t];case"bottom-right":return[e,t];case"top-left":default:return[r,s]}}();e.$apply(function(){e.entry.values.size=a*d/l.width*100,e.entry.values.x=c[0]/l.width*100,e.entry.values.y=c[1]/l.height*100,e.entry.values.position=f})}),window.addEventListener("resize",v),window.setTimeout(function(){v(),r.setBackgroundColor("#999");var t=e.entry.values.image;t&&p(t)}),e.$on("$destroy",function(){window.removeEventListener("resize",v),g()})}}};var r=t(852),s=i(r),o=t(861),u=i(o),f=function(e){return.75*e},c={size:20,x:5,y:5,position:"bottom-right"}},857:function(e,exports){},858:function(e,exports){},859:function(e,exports){},860:function(e,exports){},917:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.dashboard().addCollection(e.collection(e.entity("restaurants")).title("餐廳排行").perPage(10).fields([e.field("name").isDetailLink(!0).detailLinkRoute("show"),e.field("pageview","number")]).sortField("pageview").sortDir("DESC").order(1)).addCollection(e.collection(e.entity("travels")).title("推薦行程排行").perPage(5).fields([e.field("name").isDetailLink(!0).detailLinkRoute("show"),e.field("pageview","number")]).sortField("pageview").sortDir("DESC").order(1))}},918:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(919),a=i(l),n=t(920),d=i(n);exports.default={response:a.default,request:d.default}},919:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(725),a=i(l);exports.default=function(e,t,i,l,r){var s=e.data;if("themes"===i&&"getList"===t)return s.all;var o=r.config.params,u=o.sort,f=o.sortDir;if(u&&"district.name"!==u&&(s=(0,n.sortBy)(s,function(e){return(0,n.get)(e,u)}),"DESC"===f&&(s=s.reverse())),"get"===t)switch(i){case"cities":return(0,a.default)({},s,{regions:s.regions.map(d)});case"regions":return(0,a.default)({},s,{districts:s.districts.map(d),city_id:s.city.id});case"districts":return(0,a.default)({},s,{region_id:s.region.id,restaurant_ids:s.restaurants.map(d)});case"users":return(0,a.default)({},s,{roles:s.roles.map(d)});case"roles":return(0,a.default)({},s,{permissions:s.permissions.map(d)});case"categories":return(0,a.default)({},s,{subcategories:s.subcategories.map(d)});case"subcategories":return(0,a.default)({},s,{category_id:s.category});case"restaurants":return(0,a.default)({},s,{place_id:s.placeId,subcategories:s.subcategories.map(d),atmospheres:s.atmospheres.map(d),demands:s.demands.map(d),populations:s.populations.map(d),themes:s.themes.map(d),comments:s.comments.map(d)});case"themes":return(0,a.default)({},s,{restaurant_ids:s.restaurants.map(d)});default:return s}if("getList"===t){if("choices"===i)return s.map(function(e){return(0,a.default)({},e,{restaurantId:e.id})});if("recommends"===i)return s.map(function(e){return(0,a.default)({},e,{themeId:e.id})});if("users"===i)return s.map(function(e){return(0,a.default)({},e,{roles:e.roles.map(d)})})}return s};var n=t(408),d=function(e){return e.id}},920:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=t(921),a=i(l),n=t(725),d=i(n),r=t(726),s=i(r);exports.default=function(e,t,i,l,n,r){switch("getList"===t&&(0,c.default)(r),(0,s.default)(r,{noTrack:!0}),i){case"restaurants":switch(t){case"getList":return(0,s.default)(r,{include:["district","region"].join(","),all:!0}),{params:r};case"get":return(0,s.default)(r,{include:["district","photos","envPhotos","subcategories","atmospheres","hours","populations","demands","themes","region","comments","author"].join(","),all:!0}),{params:r};case"post":return e.hours&&(0,s.default)(e,{hours:e.hours.map(function(e){return(0,d.default)({},e,{start:m(e.start),end:m(e.end)})})}),(0,s.default)(e,{created_by:e.author.id,scores:(0,a.default)(e.scores)}),{element:e};case"put":return e.hours&&(0,s.default)(e,{hours:e.hours.map(function(e){return(0,d.default)({},e,{start:m(e.start),end:m(e.end)})})}),e.lat||(0,s.default)(e,(0,d.default)({},e.location)),(0,s.default)(e,{created_by:e.author.id,district_id:e.district.id,atmosphere_ids:e.atmospheres,demand_ids:e.demands,population_ids:e.populations,subcategory_ids:e.subcategories,scores:(0,a.default)(e.scores)}),{element:e}}break;case"comments":if("getList"===t){if("filters"in r&&"restaurant_id"in r.filters){var o=r.filters.restaurant_id;(0,s.default)(r,{restaurant_id:o})}return(0,s.default)(r,{include:"user"}),{params:r}}break;case"cities":switch(t){case"getList":case"get":return(0,s.default)(r,{include:"regions"}),{params:r}}break;case"districts":switch(t){case"getList":return(0,s.default)(r,{include:"region"}),{params:r};case"get":return(0,s.default)(r,{include:"region,restaurants"}),{params:r};case"put":return(0,s.default)(e,{region_id:e.region.id}),{element:e}}break;case"regions":switch(t){case"getList":case"get":return(0,s.default)(r,{include:"districts,city"}),{params:r}}break;case"users":switch(t){case"getList":case"get":return(0,s.default)(r,{include:"roles,taste"}),{params:r};case"put":return(0,s.default)(e,{taste_id:e.taste.id}),{element:e}}break;case"roles":switch(t){case"getList":case"get":return(0,s.default)(r,{include:"permissions"}),{params:r}}break;case"categories":switch(t){case"getList":case"get":return(0,s.default)(r,{include:"subcategories"}),{params:r}}break;case"themes":switch(t){case"getList":case"get":return(0,s.default)(r,{include:"restaurants"}),{params:r}}break;case"travels":switch(t){case"get":return(0,s.default)(r,{include:"photos,district"}),{params:r};case"getList":return(0,s.default)(r,{include:"district"}),{params:r};case"put":return(0,s.default)(e,{district_id:e.district.id}),{element:e}}break;case"choices":switch(t){case"put":return(0,s.default)(e,{restaurant_id:e.restaurant.id}),{element:e}}break;case"abouts":switch(t){case"get":return(0,s.default)(r,{include:"about_contents"}),{params:r}}}return{}};var o=t(557),u=i(o),f=t(923),c=i(f),m=function(e){var t=(0,u.default)(e).set({year:1970,month:0,dates:1}),i=t.format().split("+");return[i[0],"09:00"].join("+")}},923:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e._page&&(e.page=e._page,e.perPage=e._perPage),delete e._page,delete e._perPage,e._sortField&&(e.sort=e._sortField,e.sortDir=e._sortDir,delete e._sortField,delete e._sortDir),e._filters&&(e.filters=e._filters,delete e._filters)}},924:function(e,exports,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.searchControllerTemplate=exports.searchController=void 0;var l=t(925),a=i(l),n=t(926),d=i(n),r=t(793),s=i(r),o=t(552);exports.searchController=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,d.default)(e,[{key:"$onInit",value:function(){var e=this;this.loading=!0,this.matched=[],this.Restangular.allUrl("restaurants",o.API_ROOT+"restaurants").getList().then(function(t){e.loading=!1,(0,s.default)(t)?e.restaurants=t:e.restaurants=t.data})}},{key:"onSearch",value:function(){var e=this;if(this.restaurants&&this.restaurants.length){if(!this.search)return void(this.matched=[]);var t=parseInt(this.search,10);t?this.matched=this.restaurants.filter(function(e){return t===e.id}):this.matched=this.restaurants.filter(function(t){return t.name.includes(e.search)})}}}]),e}(),exports.searchControllerTemplate='\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="page-header">\n        <h1>Search</h1>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12 col-sm-6">\n      <input\n        type="text"\n        ng-disabled="controller.loading"\n        ng-model="controller.search"\n        ng-change="controller.onSearch()"\n        class="form-control"\n        placeholder="{{controller.loading ? \'Loading...\' : \'輸入餐廳ID或名稱\'}}"\n      />\n    </div>\n    <div class="col-xs-12">\n      <table class="grid table table-condensed table-hover table-striped">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Address</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="restaurant in controller.matched">\n            <td><a href="/#/restaurants/show/{{restaurant.id}}">{{restaurant.id}}</a></td>\n            <td><a href="/#/restaurants/show/{{restaurant.id}}">{{restaurant.name}}</a></td>\n            <td>{{restaurant.address}}</td>\n          </tr>\n        </tbody>\n    </div>\n  </div>\n'}});